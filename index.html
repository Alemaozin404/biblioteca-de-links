<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOD DEV | VAULT SUPREMO V16 - NEBULA</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ---------------------------------------------------------
           1. TEMAS E CORES ORIGINAIS
        ------------------------------------------------------------ */
        :root { --bg: #050505; --acc: #00ff41; --surf: rgba(17, 17, 17, 0.85); --txt: #fff; --border: #333; }
        .theme-oficial { --bg: #eef2f7; --acc: #74b9ff; --surf: rgba(255, 255, 255, 0.85); --txt: #2d3436; --border: #dcdde1; } 
        .theme-cyberpunk { --bg: #0d0221; --acc: #ff007f; --surf: rgba(25, 14, 58, 0.85); --txt: #00f0ff; --border: #5a189a; }
        .theme-gold { --bg: #1a1a1a; --acc: #d4af37; --surf: rgba(42, 42, 42, 0.85); --txt: #f1f1f1; --border: #aa841e; }

        /* ---------------------------------------------------------
           2. LAYOUT BASE (SIDEBAR ORGANIZADA)
        ------------------------------------------------------------ */
        body { 
            background: var(--bg); 
            color: var(--txt); 
            font-family: 'JetBrains Mono', monospace; 
            margin: 0; 
            display: flex; 
            transition: 0.5s; 
            height: 100vh; 
            overflow: hidden; 
            position: relative;
        }

        /* CANVAS DE FUNDO (SEMPRE ATIVO) */
        #nebula-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none; opacity: 0.5;
        }
        
        #scrapbook { 
            width: 280px; 
            background: var(--surf); 
            border-right: 1px solid var(--border); 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            z-index: 10;
            backdrop-filter: blur(10px);
        }

        #scrapbook textarea { 
            flex: 1; 
            background: rgba(0,0,0,0.3); 
            color: var(--txt); 
            border: 1px solid var(--border); 
            padding: 10px; 
            font-family: inherit; 
            resize: none; 
            outline: none; 
            border-radius: 4px; 
            font-size: 0.85rem; 
        }

        main { 
            flex: 1; 
            padding: 25px; 
            overflow-y: auto; 
            position: relative; 
            z-index: 10;
        }

        header { 
            border-bottom: 2px solid var(--acc); 
            padding-bottom: 15px; 
            margin-bottom: 25px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }

        /* DASHBOARD */
        .dashboard-grid { display: grid; grid-template-columns: 1.5fr 1fr; gap: 20px; margin-bottom: 25px; }
        .stat-card { background: var(--surf); padding: 15px; border-radius: 8px; border: 1px solid var(--border); backdrop-filter: blur(5px); }

        /* BUSCA E APPS */
        .search-container { margin-bottom: 20px; position: relative; }
        #search-input { 
            width: 100%; background: var(--surf); border: 1px solid var(--acc); 
            padding: 12px 45px; color: var(--txt); border-radius: 30px; outline: none; 
        }

        .apps-container { display: none; margin-bottom: 25px; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .app-card { 
            background: var(--surf); border: 1px solid var(--border); border-radius: 12px; 
            height: 110px; display: flex; flex-direction: column; justify-content: center; 
            align-items: center; cursor: pointer; transition: 0.2s; 
        }
        .app-card:hover { border-color: var(--acc); background: rgba(255,255,255,0.1); }

        /* MODO ZEN ATIVO */
        .focus-mode #scrapbook, 
        .focus-mode .input-box, 
        .focus-mode .dashboard-grid, 
        .focus-mode .video-section, 
        .focus-mode .controls, 
        .focus-mode .search-container, 
        .focus-mode .apps-container,
        .focus-mode #filters { display: none !important; }
        
        .focus-mode #nebula-canvas { opacity: 1; }
        .focus-mode main { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .focus-mode #list { width: 80%; max-width: 800px; }

        #exit-focus { 
            display: none; position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); border: 2px solid var(--acc); color: var(--acc);
            padding: 15px 40px; border-radius: 50px; cursor: pointer; z-index: 10001; font-weight: bold;
        }
        .focus-mode #exit-focus { display: block; }

        /* UI ELEMENTS */
        .input-box { display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 10px; background: var(--surf); padding: 20px; border-radius: 8px; border: 1px solid var(--border); margin-bottom: 20px; }
        input, select { background: rgba(0,0,0,0.1); border: 1px solid var(--border); padding: 10px; color: var(--txt); border-radius: 4px; outline: none; }
        .btn-add { background: var(--acc); color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 4px; }
        .grid { display: grid; gap: 10px; }
        .item { background: var(--surf); padding: 15px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--acc); backdrop-filter: blur(5px); }
        .btn-tool { background: transparent; color: var(--acc); border: 1px solid var(--acc); padding: 5px 10px; cursor: pointer; border-radius: 4px; font-size: 0.7rem; font-weight: bold; margin-left: 5px; }

        #qr-modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:10000; }
    </style>
</head>
<body id="app-body">

    <canvas id="nebula-canvas"></canvas>
    <button id="exit-focus" onclick="toggleFocus()">RETORNAR DO MODO ZEN</button>

    <div id="qr-modal" onclick="this.style.display='none'">
        <div id="qr-container" style="background:white; padding:20px; border-radius:10px;"></div>
    </div>

    <aside id="scrapbook">
        <h3 style="color: var(--acc); font-size: 0.7rem;">> SCRAPBOOK_V16</h3>
        <textarea id="notes" placeholder="Notas de sistema..." oninput="saveNotes()"></textarea>
    </aside>

    <main>
        <header>
            <div style="display:flex; align-items:center; gap:15px;">
                <button class="btn-tool" onclick="goHome()" style="background:var(--acc); color:#000; border:none; padding:8px 15px;">INÍCIO</button>
                <h1 style="font-size: 1.4rem;">VAULT_SUPREMO_V16</h1>
            </div>
            <div class="controls">
                <select onchange="changeTheme(this.value)" class="btn-tool">
                    <option value="">MATRIX</option>
                    <option value="theme-oficial">OFICIAL</option>
                    <option value="theme-gold">GOLD</option>
                    <option value="theme-cyberpunk">CYBERPUNK</option>
                </select>
                <button class="btn-tool" onclick="toggleSection('apps-container')">APPS</button>
                <button class="btn-tool" onclick="toggleSection('video-section')">VÍDEO</button>
                <button class="btn-tool" onclick="toggleFocus()" style="box-shadow: 0 0 10px var(--acc);">MODO ZEN</button>
                <button class="btn-tool" onclick="exportData()">BACKUP</button>
            </div>
        </header>

        <div class="dashboard-grid">
            <div class="stat-card"><canvas id="categoryChart" height="110"></canvas></div>
            <div class="stat-card" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                <h2 id="totalCounter" style="font-size: 3.5rem; margin: 0; color: var(--acc);">0</h2>
                <p style="font-size: 0.7rem; opacity:0.6; font-weight:bold;">REGISTROS NO VAULT</p>
            </div>
        </div>

        <div class="apps-container" id="apps-container">
            <div class="app-card" onclick="window.open('https://instagram.com','_blank')"><i class="fab fa-instagram" style="color:#E1306C; font-size:2rem;"></i><span>INSTA</span></div>
            <div class="app-card" onclick="window.open('https://web.telegram.org','_blank')"><i class="fab fa-telegram" style="color:#0088cc; font-size:2rem;"></i><span>TELE</span></div>
            <div class="app-card" onclick="window.open('https://web.whatsapp.com','_blank')"><i class="fab fa-whatsapp" style="color:#25D366; font-size:2rem;"></i><span>WHATS</span></div>
        </div>

        <div class="search-container">
            <input type="text" id="search-input" placeholder="Pesquisar registros..." oninput="load()">
        </div>

        <div class="video-section" id="video-section" style="display:none; margin-bottom:20px; background:var(--surf); padding:20px; border-radius:8px;">
            <div style="display:flex; gap:10px;"><input type="text" id="v-url" style="flex:1" placeholder="YouTube Link"><button class="btn-add" onclick="playVideo()">PLAY</button></div>
            <div id="player" style="display:none; margin-top:15px;"><iframe id="video-frame" width="100%" height="350" frameborder="0" allowfullscreen></iframe></div>
        </div>

        <div class="input-box">
            <input type="text" id="t" placeholder="Título">
            <input type="text" id="u" placeholder="URL">
            <input type="text" id="c" placeholder="Categoria">
            <button class="btn-add" onclick="add()">ARMAZENAR</button>
        </div>

        <div id="filters" style="margin-bottom:20px; display:flex; gap:8px; flex-wrap:wrap;"></div>
        <div class="grid" id="list"></div>
    </main>

    <script>
        const DB_KEY = 'vault_v16_master';
        let myChart = null;
        let currentFilter = 'all';
        let audioCtx = null, noiseNode = null;

        // --- ANIMAÇÃO NEBULOSA (PAGINA INTEIRA) ---
        const canvas = document.getElementById('nebula-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initNebula() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            particles = [];
            for (let i = 0; i < 150; i++) {
                particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, size: Math.random()*2+0.2, spd: Math.random()*0.3+0.05, op: Math.random() });
            }
        }
        function animate() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--acc') || '#00ff41';
            particles.forEach(p => {
                p.y -= p.spd; if(p.y < 0) p.y = canvas.height;
                ctx.globalAlpha = p.op;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill();
            });
            requestAnimationFrame(animate);
        }

        // --- CORE FUNCTIONS ---
        function load() {
            const data = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            const term = document.getElementById('search-input').value.toLowerCase();
            document.getElementById('totalCounter').innerText = data.length;
            const filtered = data.filter(l => (l.title.toLowerCase().includes(term) || l.url.toLowerCase().includes(term)) && (currentFilter === 'all' || l.cat === currentFilter));
            
            document.getElementById('list').innerHTML = filtered.map(l => `
                <div class="item">
                    <div><strong>${l.title}</strong><span style="font-size:0.7rem; opacity:0.5; margin-left:10px;">${l.cat}</span><br><small>${l.url}</small></div>
                    <div style="display:flex; gap:10px;">
                        <button onclick="showQR('${l.url}')" class="btn-tool">QR</button>
                        <button onclick="del('${l.id}')" class="btn-tool" style="color:#ff7675; border-color:#ff7675;">DEL</button>
                    </div>
                </div>
            `).reverse().join('');
            updateChart(data); renderFilters(data);
            document.getElementById('notes').value = localStorage.getItem('vault_v16_notes') || '';
        }

        function add() {
            const t = document.getElementById('t').value || 'S/T'; const u = document.getElementById('u').value; if(!u) return;
            const db = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            db.push({ id: Date.now().toString(), title: t, url: u, cat: document.getElementById('c').value || 'Geral' });
            localStorage.setItem(DB_KEY, JSON.stringify(db)); load();
            document.getElementById('t').value=''; document.getElementById('u').value='';
        }

        function del(id) { if(confirm("Remover?")) { let db = JSON.parse(localStorage.getItem(DB_KEY) || '[]').filter(l=>l.id!==id); localStorage.setItem(DB_KEY, JSON.stringify(db)); load(); } }

        function toggleFocus() {
            const isFocus = document.body.classList.toggle('focus-mode');
            if(isFocus) toggleAudio(true); else toggleAudio(false);
        }

        function toggleAudio(on) {
            if(on) {
                if(!audioCtx) audioCtx = new AudioContext();
                const buffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 2, audioCtx.sampleRate);
                const out = buffer.getChannelData(0); for(let i=0; i<buffer.length; i++) out[i] = Math.random() * 2 - 1;
                noiseNode = audioCtx.createBufferSource(); noiseNode.buffer = buffer; noiseNode.loop = true;
                const filter = audioCtx.createBiquadFilter(); filter.type = 'lowpass'; filter.frequency.value = 400;
                const gain = audioCtx.createGain(); gain.gain.value = 0.05;
                noiseNode.connect(filter); filter.connect(gain); gain.connect(audioCtx.destination); noiseNode.start();
            } else if(noiseNode) { noiseNode.stop(); }
        }

        function goHome() { currentFilter = 'all'; document.getElementById('search-input').value=''; load(); }
        function toggleSection(id) { const s = document.getElementById(id); s.style.display = (s.style.display==='none'||s.style.display==='') ? (id==='apps-container'?'grid':'block') : 'none'; }
        function changeTheme(t) { document.body.className = t; load(); }
        function saveNotes() { localStorage.setItem('vault_v16_notes', document.getElementById('notes').value); }
        function showQR(u) { document.getElementById('qr-container').innerHTML=""; new QRCode(document.getElementById('qr-container'), {text:u, width:150, height:150}); document.getElementById('qr-modal').style.display='flex'; }
        function playVideo() { const url = document.getElementById('v-url').value; const id = url.split('v=')[1]?.split('&')[0] || url.split('be/')[1]; if(id) { document.getElementById('video-frame').src=`https://www.youtube.com/embed/${id}`; document.getElementById('player').style.display='block'; } }
        
        function updateChart(data) {
            const cats = {}; data.forEach(l => cats[l.cat] = (cats[l.cat] || 0) + 1);
            const ctx = document.getElementById('categoryChart').getContext('2d');
            if(myChart) myChart.destroy();
            myChart = new Chart(ctx, { type: 'bar', data: { labels: Object.keys(cats), datasets: [{ data: Object.values(cats), backgroundColor: getComputedStyle(document.body).getPropertyValue('--acc') }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } } });
        }

        function renderFilters(data) {
            const cats = ['all', ...new Set(data.map(l => l.cat))];
            document.getElementById('filters').innerHTML = cats.map(c => `<button onclick="currentFilter='${c}';load()" class="btn-tool" style="background:${currentFilter===c?'var(--acc)':'transparent'}; color:${currentFilter===c?'#000':'var(--acc)'}">${c.toUpperCase()}</button>`).join('');
        }

        function exportData() { const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([localStorage.getItem(DB_KEY)], {type:'application/json'})); a.download = `vault_v16.json`; a.click(); }

        window.onload = () => { initNebula(); animate(); load(); };
        window.onresize = initNebula;
    </script>
</body>
</html>
